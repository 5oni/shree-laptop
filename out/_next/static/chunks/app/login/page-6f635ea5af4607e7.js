(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2099:(e,r,s)=>{"use strict";s.d(r,{N:()=>a});let a=(0,s(2354).UU)("https://qexwnzdreucbpucqtrda.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFleHduemRyZXVjYnB1Y3F0cmRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MzI4NzAsImV4cCI6MjA3MjQwODg3MH0.qVr0JJ5pGj0BIiibfDF2ryTGCdw1KpsGoJvoTee4KGc")},3259:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var a=s(5155),t=s(2115),i=s(5695),n=s(2099);let d=async(e,r)=>{try{var s;let{data:a,error:t}=await n.N.auth.signInWithPassword({email:e,password:r});if(t)throw Error(t.message);if(!a.user)throw Error("Authentication failed");let i=(null==(s=a.user.user_metadata)?void 0:s.role)||"admin";return{user:{id:a.user.id,email:a.user.email||"",role:i}}}catch(e){throw console.error("Login error:",e),Error(e instanceof Error?e.message:"Authentication failed")}};function o(){let[e,r]=(0,t.useState)(!1),[s,n]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[u,c]=(0,t.useState)(""),m=(0,i.useRouter)(),b=async e=>{e.preventDefault(),r(!0),c("");try{await d(s,o),m.push("/admin")}catch(e){console.error("Login failed:",e),c("Incorrect email or password")}finally{r(!1)}};return(0,a.jsx)("div",{className:"max-w-md mx-auto mt-10",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),u&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:u}),(0,a.jsxs)("form",{onSubmit:b,className:"mb-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",value:s,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:bg-blue-400",children:e?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}),(0,a.jsx)("span",{children:"Signing in..."})]}):"Sign in"})]}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Admin access only."})]})})}},5695:(e,r,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},7639:(e,r,s)=>{Promise.resolve().then(s.bind(s,3259))}},e=>{var r=r=>e(e.s=r);e.O(0,[354,441,684,358],()=>r(7639)),_N_E=e.O()}]);