(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2099:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});let a=(0,t(2354).UU)("https://qexwnzdreucbpucqtrda.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFleHduemRyZXVjYnB1Y3F0cmRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4MzI4NzAsImV4cCI6MjA3MjQwODg3MH0.qVr0JJ5pGj0BIiibfDF2ryTGCdw1KpsGoJvoTee4KGc")},2376:(e,r,t)=>{"use strict";let a;t.d(r,{WY:()=>m,DD:()=>g,Us:()=>l,y9:()=>h,d$:()=>u,vc:()=>p,iG:()=>c});var s=t(2099);let o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},i=new Uint8Array(16),d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));let n=function(e,r,t){if(o.randomUUID&&!r&&!e)return o.randomUUID();let s=(e=e||{}).random??e.rng?.()??function(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(i)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){if((t=t||0)<0||t+16>r.length)throw RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[t+e]=s[e];return r}return function(e,r=0){return(d[e[r+0]]+d[e[r+1]]+d[e[r+2]]+d[e[r+3]]+"-"+d[e[r+4]]+d[e[r+5]]+"-"+d[e[r+6]]+d[e[r+7]]+"-"+d[e[r+8]]+d[e[r+9]]+"-"+d[e[r+10]]+d[e[r+11]]+d[e[r+12]]+d[e[r+13]]+d[e[r+14]]+d[e[r+15]]).toLowerCase()}(s)},c=async e=>{try{if(!e)throw Error("No file provided for upload");if(!e.type.startsWith("image/"))throw Error("Please upload a valid image file");if(e.size>5242880)throw Error("Image size should be less than 5MB");let r=n(),t=e.name.split(".").pop()||"jpg",a="products/".concat(r,".").concat(t),{error:o}=await s.N.storage.from("product-images").upload(a,e,{cacheControl:"3600",upsert:!1});if(o)throw Error("Upload failed: ".concat(o.message));let{data:i}=s.N.storage.from("product-images").getPublicUrl(a);return i.publicUrl}catch(e){throw console.error("Error uploading image:",e),Error("Failed to upload image: "+(e instanceof Error?e.message:"Unknown error"))}},l=async e=>{try{if(!e.includes("supabase"))return;let r=new URL(e).pathname.split("/"),t=r[r.length-1],{error:a}=await s.N.storage.from("product-images").remove(["products/".concat(t)]);if(a)throw console.error("Error deleting image:",a),Error("Failed to delete image")}catch(e){throw console.error("Error deleting image:",e),Error("Failed to delete image")}},u=async()=>{try{let{data:e,error:r}=await s.N.from("products").select("*").order("created_at",{ascending:!1});if(r)throw Error("Failed to fetch products: ".concat(r.message));return e.map(e=>({id:e.id,name:e.name,specs:e.specs,price:e.price,image:e.image,category:e.category||void 0,type:e.type,createdAt:e.created_at,updatedAt:e.updated_at}))}catch(e){throw console.error("Error getting products:",e),Error("Failed to get products")}},h=async e=>{try{let{data:r,error:t}=await s.N.from("products").select("*").eq("id",e).single();if(t){if("PGRST116"===t.code)return null;throw Error("Failed to fetch product: ".concat(t.message))}return{id:r.id,name:r.name,specs:r.specs,price:r.price,image:r.image,category:r.category||void 0,type:r.type,createdAt:r.created_at,updatedAt:r.updated_at}}catch(e){throw console.error("Error getting product:",e),Error("Failed to get product")}},m=async e=>{try{let r=new Date().toISOString(),{data:t,error:a}=await s.N.from("products").insert({name:e.name,specs:e.specs,price:e.price,image:e.image,category:e.category||null,type:e.type,created_at:r,updated_at:r}).select().single();if(a)throw Error("Failed to create product: ".concat(a.message));return{id:t.id,name:t.name,specs:t.specs,price:t.price,image:t.image,category:t.category||void 0,type:t.type,createdAt:t.created_at,updatedAt:t.updated_at}}catch(e){throw console.error("Error creating product:",e),Error("Failed to create product")}},p=async(e,r)=>{try{let t=new Date().toISOString(),{data:a,error:o}=await s.N.from("products").update({name:r.name,specs:r.specs,price:r.price,image:r.image,category:r.category||null,type:r.type,updated_at:t}).eq("id",e).select().single();if(o)throw Error("Failed to update product: ".concat(o.message));return{id:a.id,name:a.name,specs:a.specs,price:a.price,image:a.image,category:a.category||void 0,type:a.type,createdAt:a.created_at,updatedAt:a.updated_at}}catch(e){throw console.error("Error updating product:",e),Error("Failed to update product")}},g=async e=>{try{let{error:r}=await s.N.from("products").delete().eq("id",e);if(r)throw Error("Failed to delete product: ".concat(r.message))}catch(e){throw console.error("Error deleting product:",e),Error("Failed to delete product")}}},2824:(e,r,t)=>{"use strict";t.d(r,{AS:()=>o,DD:()=>c,WY:()=>d,vc:()=>n,y9:()=>i});var a=t(2376);let s=async e=>await a.Us(e),o=async()=>{try{return await a.d$()}catch(e){throw console.error("Error getting products:",e),Error("Failed to get products")}},i=async e=>{try{return await a.y9(e)||void 0}catch(e){throw console.error("Error getting product:",e),Error("Failed to get product")}},d=async e=>{try{return await a.WY(e)}catch(e){throw console.error("Error creating product:",e),Error("Failed to create product")}},n=async(e,r)=>{try{return await a.vc(e,r)}catch(e){throw console.error("Error updating product:",e),Error("Failed to update product")}},c=async e=>{try{let r=await i(e);r&&r.image&&await s(r.image),await a.DD(e)}catch(e){throw console.error("Error deleting product:",e),Error("Failed to delete product")}}},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},6532:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,O:()=>n});var a=t(5155),s=t(2115),o=t(5695),i=t(2099);let d=(0,s.createContext)(void 0);function n(e){let{children:r}=e,[t,n]=(0,s.useState)(null),[c,l]=(0,s.useState)(!0),u=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{let{data:{session:e}}=await i.N.auth.getSession();if(null==e?void 0:e.user){var r,t,a;n({id:e.user.id,email:e.user.email||"",name:(null==(r=e.user.user_metadata)?void 0:r.name)||(null==(t=e.user.email)?void 0:t.split("@")[0])||"",role:(null==(a=e.user.user_metadata)?void 0:a.role)||"admin"})}l(!1)})();let{data:{subscription:e}}=i.N.auth.onAuthStateChange(async(e,r)=>{if(null==r?void 0:r.user){var t,a,s;n({id:r.user.id,email:r.user.email||"",name:(null==(t=r.user.user_metadata)?void 0:t.name)||(null==(a=r.user.email)?void 0:a.split("@")[0])||"",role:(null==(s=r.user.user_metadata)?void 0:s.role)||"admin"})}else n(null);l(!1)});return()=>e.unsubscribe()},[]);let h=async()=>{await i.N.auth.signOut(),u.push("/login")};return(0,a.jsx)(d.Provider,{value:{user:t,loading:c,signOut:h},children:r})}function c(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7220:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(5155),s=t(2824),o=t(6874),i=t.n(o),d=t(2115),n=t(6532);function c(){var e;let{user:r}=(0,n.A)(),[t,o]=(0,d.useState)([]),[c,l]=(0,d.useState)(!0),[u,h]=(0,d.useState)({laptops:0,accessories:0});return(0,d.useEffect)(()=>{(async()=>{l(!0);try{let e=await (0,s.AS)();o(e);let r=e.filter(e=>"laptop"===e.type).length,t=e.filter(e=>"accessory"===e.type).length;h({laptops:r,accessories:t})}catch(e){console.error("Error fetching products:",e)}finally{l(!1)}})()},[]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold font-montserrat",children:["Welcome, ",(0,a.jsx)("span",{className:"text-primary-600 dark:text-primary-400",children:(null==r||null==(e=r.email)?void 0:e.split("@")[0])||"Admin"})]}),(0,a.jsxs)(i(),{href:"/admin/products/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors self-start sm:self-auto",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Product"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-raleway",children:"Total Products"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:c?"-":t.length})]}),(0,a.jsx)("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})})]}),!c&&(0,a.jsx)("div",{className:"mt-2 text-xs text-primary-600 dark:text-primary-400",children:t.length>0?"".concat(t.length," products in inventory"):"No products yet"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-raleway",children:"Laptops"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:c?"-":u.laptops})]}),(0,a.jsx)("div",{className:"p-2 bg-accent-100 dark:bg-accent-900/30 rounded-lg text-accent-600 dark:text-accent-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),!c&&(0,a.jsx)("div",{className:"mt-2 text-xs text-accent-600 dark:text-accent-400",children:u.laptops>0?"".concat(Math.round(u.laptops/t.length*100),"% of inventory"):"No laptops yet"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-raleway",children:"Accessories"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:c?"-":u.accessories})]}),(0,a.jsx)("div",{className:"p-2 bg-tertiary-100 dark:bg-tertiary-900/30 rounded-lg text-tertiary-600 dark:text-tertiary-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})})]}),!c&&(0,a.jsx)("div",{className:"mt-2 text-xs text-tertiary-600 dark:text-tertiary-400",children:u.accessories>0?"".concat(Math.round(u.accessories/t.length*100),"% of inventory"):"No accessories yet"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-raleway",children:"Last Update"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mt-1",children:new Date().toLocaleDateString()})]}),(0,a.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:new Date().toLocaleTimeString()})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-primary-100 dark:bg-primary-900/30 rounded-lg text-primary-600 dark:text-primary-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white font-montserrat",children:"Product Management"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4 font-raleway",children:"Manage your product inventory, add new products, edit existing ones, or remove products."}),(0,a.jsxs)(i(),{href:"/admin/products",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Manage Products"]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-accent-100 dark:bg-accent-900/30 rounded-lg text-accent-600 dark:text-accent-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white font-montserrat",children:"View Website"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4 font-raleway",children:"Check how your products look on the main website and see the customer experience."}),(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-2 px-4 py-2 bg-accent-600 hover:bg-accent-700 text-white rounded-lg transition-colors",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Go to Website"]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 card-hover",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-tertiary-100 dark:bg-tertiary-900/30 rounded-lg text-tertiary-600 dark:text-tertiary-400",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white font-montserrat",children:"Recent Updates"})]}),(0,a.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border-l-4 border-primary-500 bg-primary-50 dark:bg-primary-900/20",children:[(0,a.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-raleway",children:"Welcome to your new admin dashboard! From here, you can manage all your products."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Just now"})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border-l-4 border-accent-500 bg-accent-50 dark:bg-accent-900/20",children:[(0,a.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-raleway",children:"The website has been updated with improved mobile responsiveness and dark mode as default."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Today"})]})]})]})]})}},9614:(e,r,t)=>{Promise.resolve().then(t.bind(t,7220))}},e=>{var r=r=>e(e.s=r);e.O(0,[354,874,441,684,358],()=>r(9614)),_N_E=e.O()}]);