(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{4590:(e,t,r)=>{Promise.resolve().then(r.bind(r,6679))},6679:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var d=r(5155),o=r(2115),s=r(5695),l=r(1511),a=r(2824);function n(e){let{productId:t}=e,r=(0,s.useRouter)(),[n,c]=(0,o.useState)(void 0),[i,u]=(0,o.useState)(!1),[h,x]=(0,o.useState)(!0),[b,p]=(0,o.useState)("");(0,o.useEffect)(()=>{(async()=>{try{let e=await (0,a.y9)(t);e?c(e):p("Product not found")}catch(e){p("Failed to load product"),console.error(e)}finally{x(!1)}})()},[t]);let m=async e=>{if(n){u(!0),p("");try{await (0,a.vc)(n.id,e),r.push("/admin/products")}catch(e){console.error("Error updating product:",e),p("Failed to update product. Please try again.")}finally{u(!1)}}};return h?(0,d.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,d.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-blue-600 border-t-transparent rounded-full"})}):b&&!n?(0,d.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 p-6 rounded-lg",children:[(0,d.jsx)("h1",{className:"text-xl font-bold mb-2",children:"Error"}),(0,d.jsx)("p",{children:b}),(0,d.jsx)("button",{onClick:()=>r.push("/admin/products"),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors",children:"Back to Products"})]}):n?(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Product"}),b&&(0,d.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:b}),(0,d.jsx)(l.A,{product:n,onSubmit:m,isLoading:i})]}):(0,d.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 p-6 rounded-lg",children:[(0,d.jsx)("h1",{className:"text-xl font-bold mb-2",children:"Product Not Found"}),(0,d.jsx)("p",{children:"The product you are looking for does not exist or has been removed."}),(0,d.jsx)("button",{onClick:()=>r.push("/admin/products"),className:"mt-4 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md transition-colors",children:"Back to Products"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[354,778,441,684,358],()=>t(4590)),_N_E=e.O()}]);